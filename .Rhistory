# link to the cleaned IMR data
linkIMR="https://github.com/FuntamendalsRedwan/demo3/raw/refs/heads/main/cleanIMR.RDS"
# link to the cleaned LEAB data
linkLEAB="https://github.com/FuntamendalsRedwan/demo3/raw/refs/heads/main/cleanLEAB.RDS"
# link to the cleaned MMR data
linkMMR="https://github.com/FuntamendalsRedwan/demo3/raw/refs/heads/main/cleanMMR.RDS"
#get the IMR data
imr_data <- readRDS(url(linkIMR))
#get the LEAB data
leab_data <- readRDS(url(linkLEAB))
#get the MMR data
mmr_data <- readRDS(url(linkMMR))
setwd("~/dacss601/demo4")
e1_merge_p1 <- merge(imr_data, leab_data, by = c("countryname", "region"), all = TRUE)
e1_merge <- merge(e1_merge_p1, mmr_data, by = c("countryname", "region"), all = TRUE)
e1_merge_p1 <- merge(imr_data, leab_data, by = c("countryname", "region"), all = TRUE)
e1_merge <- merge(e1_merge_p1, mmr_data, by = c("countryname", "region"), all = TRUE)
e1_merge
#combine the IMR and LEAB data via countryname and region
e1_merge_p1 <- merge(imr_data, leab_data, by = c("countryname", "region"), all = TRUE)
#combine the previous combined with the MMR data via countryname and region
e1_merge <- merge(e1_merge_p1, mmr_data, by = c("countryname", "region"), all = TRUE)
#print the data to comapre with later
str(e1_merge)
#save the data
write.csv(e1_merge, "e1_merged_data.csv", row.names = FALSE)
#print the
str(read.csv("e1_merged_data.csv"))
#save the data
write.csv(e1_merge, "e1_merged_data.csv", row.names = FALSE)
#print the
str(read.csv("e1_merged_data.csv"))
#combine the IMR and LEAB data via countryname and region
e1_merge_p1 <- merge(imr_data, leab_data, by = c("countryname", "region"), all = TRUE)
#combine the previous combined with the MMR data via countryname and region
e1_merge <- merge(e1_merge_p1, mmr_data, by = c("countryname", "region"), all = TRUE)
#print the data to comapre with later
str(e1_merge)
#save the data
write.csv(e1_merge, "e1_merged_data.csv", row.names = FALSE)
#print the data to check its been savedd correctly
str(read.csv("e1_merged_data.csv"))
Exercise 2
# aggregate the data by region and take the mean of each columns data
e2_aggregate <- mergedData %>%
group_by(region) %>%
summarise(
mean_IMR  = mean(IMR,  na.rm = TRUE),
mean_LEAB = mean(LEAB, na.rm = TRUE),
mean_MMR  = mean(MMR,  na.rm = TRUE)  )
# calling the libraries for later
library(tidyr)
install.packages("tidyr")
# calling the libraries for later
library(dplyr)
library(tidyr)
# aggregate the data by region and take the mean of each columns data
e2_aggregate <- mergedData %>%
group_by(region) %>%
summarise(
mean_IMR  = mean(IMR,  na.rm = TRUE),
mean_LEAB = mean(LEAB, na.rm = TRUE),
mean_MMR  = mean(MMR,  na.rm = TRUE)  )
# aggregate the data by region and take the mean of each columns data
e2_aggregate <- e1_merge %>%
group_by(region) %>%
summarise(
mean_IMR  = mean(IMR,  na.rm = TRUE),
mean_LEAB = mean(LEAB, na.rm = TRUE),
mean_MMR  = mean(MMR,  na.rm = TRUE)  )
# aggregate the data by region and take the mean of each columns data
e2_aggregate <- e1_merge %>%
group_by(region) %>%
summarise(
mean_IMR  = mean(deaths.1000.live.births,  na.rm = TRUE),
mean_LEAB = mean(years, na.rm = TRUE),
mean_MMR  = mean(deaths.100000.live.births,  na.rm = TRUE)  )
# aggregate the data by region and take the mean of each columns data
e2_aggregate <- e1_merge %>%
group_by(region) %>%
summarise(
mean_IMR  = mean(deaths.1000.live.births,  na.rm = TRUE),
mean_LEAB = mean(years, na.rm = TRUE),
mean_MMR  = mean(deaths.100000.live.births,  na.rm = TRUE)  )
str(e2_aggregate)
#save the data
write.csv(e2_aggregate, "e2_aggregate_data.csv", row.names = FALSE)
#print the data to check its been saved correctly
str(read.csv("e2_aggregate_data.csv"))
#rest everything
rm(list = ls())
# calling the libraries for later
library(tidyr)
# link to the cleaned IMR data
linkIMR="https://github.com/FuntamendalsRedwan/demo3/raw/refs/heads/main/cleanIMR.RDS"
# link to the cleaned LEAB data
linkLEAB="https://github.com/FuntamendalsRedwan/demo3/raw/refs/heads/main/cleanLEAB.RDS"
# link to the cleaned MMR data
linkMMR="https://github.com/FuntamendalsRedwan/demo3/raw/refs/heads/main/cleanMMR.RDS"
#get the IMR data
imr_data <- readRDS(url(linkIMR))
#get the LEAB data
leab_data <- readRDS(url(linkLEAB))
#get the MMR data
mmr_data <- readRDS(url(linkMMR))
#combine the IMR and LEAB data via countryname and region
e1_merge_p1 <- merge(imr_data, leab_data, by = c("countryname", "region"), all = TRUE)
#combine the previous combined with the MMR data via countryname and region
e1_merge <- merge(e1_merge_p1, mmr_data, by = c("countryname", "region"), all = TRUE)
#print the data to comapre with later
str(e1_merge)
#save the data
write.csv(e1_merge, "e1_merged_data.csv", row.names = FALSE)
#print the data to check its been saved correctly
str(read.csv("e1_merged_data.csv"))
# aggregate the data by region and take the mean of each columns data
e2_aggregate <- aggregate(cbind(deaths.1000.live.births, years, deaths.100000.live.births) ~ region,
data = e1_merge,
FUN = mean,
na.rm = TRUE)
str(e2_aggregate)
#save the data
write.csv(e2_aggregate, "e2_aggregate_data.csv", row.names = FALSE)
#print the data to check its been saved correctly
str(read.csv("e2_aggregate_data.csv"))
e3_reshape <- pivot_longer(e1_merge,
cols = c("deaths.1000.live.births", "years", "deaths.100000.live.births"),
names_to = "indicator",
values_to = "value")
e3_reshape
e3_reshape <- pivot_longer(e1_merge,
cols = c("deaths.1000.live.births", "years", "deaths.100000.live.births"),
names_to = "indicator",
values_to = "value")
str(e3_reshape)
View(e3_reshape)
#save the data
write.csv(e3_reshape, "e3_reshape_data.csv", row.names = FALSE)
#print the data to check its been saved correctly
str(read.csv("e3_reshape_data.csv"))
